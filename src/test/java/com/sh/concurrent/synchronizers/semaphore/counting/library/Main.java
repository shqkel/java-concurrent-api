
package com.sh.concurrent.synchronizers.semaphore.counting.library;

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class Main {
    public static void main(String[] args) {
        final int threadCount = 6;
        final ExecutorService executorService = Executors.newFixedThreadPool(threadCount);
        final Library library = new Library();
        for (long i = 0; i < threadCount; i++) {
            Reader reader =  new Reader(i,library);
            executorService.execute(reader);
        }
        executorService.shutdown();
    }
    /*
    Book(id=1, bookInfo=대머리여가수, available=false)을 대여했습니다...
    Book(id=2, bookInfo=대머리여가수, available=false)을 대여했습니다...
    Book(id=3, bookInfo=대머리여가수, available=false)을 대여했습니다...
    Reader-1 이/가 Book(id=2, bookInfo=대머리여가수, available=false)을 읽는 중...
    Reader-0 이/가 Book(id=1, bookInfo=대머리여가수, available=false)을 읽는 중...
    Reader-2 이/가 Book(id=3, bookInfo=대머리여가수, available=false)을 읽는 중...
    Book(id=2, bookInfo=대머리여가수, available=true)을 반환했습니다...
    Book(id=1, bookInfo=대머리여가수, available=true)을 반환했습니다...
    Book(id=1, bookInfo=대머리여가수, available=false)을 대여했습니다...
    Book(id=3, bookInfo=대머리여가수, available=true)을 반환했습니다...
    Reader-3 이/가 Book(id=1, bookInfo=대머리여가수, available=false)을 읽는 중...
    Book(id=2, bookInfo=대머리여가수, available=false)을 대여했습니다...
    Book(id=3, bookInfo=대머리여가수, available=false)을 대여했습니다...
    Reader-5 이/가 Book(id=3, bookInfo=대머리여가수, available=false)을 읽는 중...
    Reader-4 이/가 Book(id=2, bookInfo=대머리여가수, available=false)을 읽는 중...
    Book(id=1, bookInfo=대머리여가수, available=true)을 반환했습니다...
    Book(id=2, bookInfo=대머리여가수, available=true)을 반환했습니다...
    Book(id=3, bookInfo=대머리여가수, available=true)을 반환했습니다...
     */
}